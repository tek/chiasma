name: chiasma-test
synopsis: Tmux Client
description: See <https://hackage.haskell.org/package/chiasma-test/docs/Chiasma.Test.html>
<<: !include shared/meta.yaml
defaults:
  local: shared/defaults.yaml

library:
  source-dirs: lib
  dependencies:
    - chiasma
    - aeson >= 1.4 && < 1.6
    - attoparsec >= 0.13
    - bytestring
    - chronos >= 1.1.1
    - containers
    - directory
    - exceptions
    - exon
    - filepath
    - free >= 5.1
    - hedgehog
    - incipit >= 0.1.0.3
    - lens >= 4 && < 5
    - path
    - path-io
    - polysemy
    - polysemy-chronos
    - polysemy-conc
    - polysemy-log
    - polysemy-plugin
    - polysemy-process
    - polysemy-resume
    - polysemy-test
    - polysemy-time
    - prettyprinter >= 1.6 && < 1.8
    - prettyprinter-ansi-terminal >= 1.1
    - process >= 1.6
    - random>= 1.1
    - template-haskell
    - text
    - transformers
    - typed-process >= 0.2
    - unix
  when:
    condition: false
    generated-other-modules:
      - Paths_chiasma_test

tests:
  chiasma-unit:
    main: Main.hs
    source-dirs: test
    ghc-options:
      - -threaded
      - -rtsopts
      - -with-rtsopts=-N
    dependencies:
      - chiasma
      - hedgehog
      - incipit
      - lens
      - polysemy
      - polysemy-plugin
      - tasty
      - tasty-hedgehog
      - text
    when:
      condition: false
      generated-other-modules:
        - Paths_chiasma_test
  chiasma-integration:
    main: Main.hs
    source-dirs: integration
    ghc-options:
      - -threaded
      - -rtsopts
      - -with-rtsopts=-N
    dependencies:
      - chiasma
      - chiasma-test
      - hedgehog
      - incipit
      - path-io
      - polysemy
      - polysemy-chronos
      - polysemy-plugin
      - polysemy-test
      - tasty
      - tasty-hedgehog
    when:
      condition: false
      generated-other-modules:
        - Paths_chiasma_test
